/*!
 * mezr v0.4.0
 * https://github.com/niklasramo/mezr
 * Copyright (c) 2015 Niklas Rämö <inramo@gmail.com>
 * Released under the MIT license
 */
!function(t,e){"function"==typeof define&&define.amd?define("mezr",[],e):"object"==typeof module&&module.exports?module.exports=t.document?e(t):function(t){if(!t.document)throw new Error("Mezr requires a window with a document");return e(t)}:t.mezr=e(t)}("object"==typeof window&&window.window||this,function(t,e){"use strict";function o(t,e){var o=typeof t;return o="object"!==o?o:X.call(t).split(" ")[1].replace("]","").toLowerCase(),e?o===e:o}function n(t){return t===O||t===C.body||o(t).indexOf("html")>-1&&C.body.contains(t)}function r(t){return parseFloat(t)||0}function i(t){return t=o(t,"number")?t:B[t]!==e?B[t]:3,t>-1&&5>t?t:3}function f(t){var e,n,r,i,l={},u=t.length;for(i=0;u>i;i++)for(e in t[i])t[i].hasOwnProperty(e)&&(r=t[i][e],n=o(r),l[e]="object"===n?f([r]):"array"===n?r.slice():r);return l}function l(e,o){return t.getComputedStyle(e,null).getPropertyValue(o)}function u(t){if(!t)return null;var e,n,r,f=o(t);return"object"===f?t:("array"===f?(e=t[0],n=i(t[1])):e=t,r=g(e,n),r.width=h(e,n),r.height=s(e,n),r)}function a(t,e){return t=u(t),e=u(e),{left:t.left-e.left,right:e.left+e.width-(t.left+t.width),top:t.top-e.top,bottom:e.top+e.height-(t.top+t.height)}}function d(t,e,o,n){return Y.sqrt(Y.pow(o-t,2)+Y.pow(n-e,2))}function p(t,e){var o=0,n=t.left,r=n+e.width,i=t.top,f=i+e.height,l=e.left,u=l+e.width,a=e.top,p=a+e.height;return o=(l>r||n>u)&&(a>f||i>p)?l>r?i>p?d(r,i,l,p):d(r,f,l,a):i>p?d(n,i,u,p):d(n,f,u,a):i>p?i-p:l>r?l-r:a>f?a-f:n-u}function c(o,n,i,f,u,a){var d,p,c,h,s,g,w,b,m="height"===o,y=m?"Height":"Width",v="inner"+y,j="client"+y,P="scroll"+y;return n.self===t.self?d=i?t[v]:O[j]:n===C?i?(p=t[v]-O[j],d=q(O[P]+p,C.body[P]+p,t[v])):d=q(O[P],C.body[P],O[j]):(d=n.getBoundingClientRect()[o],c=m?"top":"left",h=m?"bottom":"right",i||(n===O?d-=t[v]-O[j]:(s=r(l(n,"border-"+c+"-width")),g=r(l(n,"border-"+h+"-width")),d-=Y.round(d)-n[j]-s-g)),f||(d-=r(l(n,"padding-"+c)),d-=r(l(n,"padding-"+h))),u||(d-=s!==e?s:r(l(n,"border-"+c+"-width")),d-=g!==e?g:r(l(n,"border-"+h+"-width"))),a&&(w=r(l(n,"margin-"+c)),b=r(l(n,"margin-"+h)),d+=w>0?w:0,d+=b>0?b:0)),d}function h(t,e){return e=i(e),c("width",t,e>1,e>0,e>2,e>3)}function s(t,e){return e=i(e),c("height",t,e>1,e>0,e>2,e>3)}function g(e,o){var n,f,u,a=0,d=0,p=r(t.pageXOffset),c=r(t.pageYOffset);return o=i(o),e.self===t.self?(a=p,d=c):e!==C&&(n=e.getBoundingClientRect(),a+=n.left+p,d+=n.top+c,4===o&&(f=r(l(e,"margin-left")),u=r(l(e,"margin-top")),a-=f>0?f:0,d-=u>0?u:0),3>o&&(a+=r(l(e,"border-left-width")),d+=r(l(e,"border-top-width"))),0===o&&(a+=r(l(e,"padding-left")),d+=r(l(e,"padding-top")))),{left:a,top:d}}function w(t){var e,n,f,u,a,d=o(t,"array"),p=d?t[0]:t,c=i(d&&t[1]),h=l(p,"position");if("relative"===h)e=g(p,c),n=l(p,"left"),f=l(p,"right"),u=l(p,"top"),a=l(p,"bottom"),("auto"!==n||"auto"!==f)&&(e.left-="auto"===n?-r(f):r(n)),("auto"!==u||"auto"!==a)&&(e.top-="auto"===u?-r(a):r(u));else if("static"===h)e=g(p,c);else{e=g(b(p)||C,"padding");var s,w,m,y,v=r(l(p,"margin-left")),j=r(l(p,"margin-top"));c>3&&(e.left-=z(A(v,0)),e.top-=z(A(j,0))),4>c&&(e.left+=v,e.top+=j),3>c&&(s=r(l(p,"border-left-width")),w=r(l(p,"border-top-width")),e.left+=s,e.top+=w),1>c&&(m=r(l(p,"padding-left")),y=r(l(p,"padding-top")),e.left+=m,e.top+=y)}return e}function b(e){for(var o=C.body,r=n(e),i=r&&l(e,"position"),f="fixed"===i?t:e===o?O:e===O||e===t?C:r?e.offsetParent:null;f&&n(f)&&"static"===l(f,"position");)f=f===o?O:f.offsetParent||C;return f}function m(t,e){var o=u(t),n=u(e);return y(o,n)?-1:p(o,n)}function y(t,e,o){var n=u(t),r=u(e),i=a(n,r),f=q(n.width+A(i.left,0)+A(i.right,0),0),l=q(n.height+A(i.top,0)+A(i.bottom,0),0),d=f>0&&l>0;return o?d?{width:f,height:l,left:n.left+z(A(i.left,0)),top:n.top+z(A(i.top,0))}:null:d}function v(t,e){var o,n=j(t,e),r=n.collision,i=u(t),f=u(n.of),l=u(n.within),d=w(t),p={target:i,anchor:f,container:l};return p.left=P(n.my[0]+n.at[0],f.width,f.left,i.width,d.left,n.offsetX),p.top=P(n.my[1]+n.at[1],f.height,f.top,i.height,d.top,n.offsetY),i.left=p.left+d.left,i.top=p.top+d.top,null!==l&&(o=a(i,l),r&&(p.left+=x(r,o),p.top+=x(r,o,1),i.left=p.left+d.left,i.top=p.left+d.top)),p}function j(t,e){var n,i,l,u=v.defaults;e=f(o(e,"object")?[u,e]:[u]);for(n in e)l=e[n],i=o(l),"function"===i&&(e[n]=l(t)),("my"===n||"at"===n)&&(l=l.split(" "),l[0]=l[0].charAt(0),l[1]=l[1].charAt(0),e[n]=l),("offsetX"===n||"offsetY"===n)&&(e[n]=r(l)),"collision"===n&&"object"!==i&&(e[n]=null);return e}function P(t,e,o,n,r,i){var f=o+i-r;return"ll"===t||"tt"===t?f:"lc"===t||"tc"===t?f+e/2:"lr"===t||"tb"===t?f+e:"cl"===t||"ct"===t?f-n/2:"cr"===t||"cb"===t?f+e-n/2:"rl"===t||"bt"===t?f-n:"rc"===t||"bc"===t?f-n+e/2:"rr"===t||"bb"===t?f-n+e:f+e/2-n/2}function x(t,e,o){var n=0,r="push",i="forcePush",f=o?"top":"left",l=o?"bottom":"right",u=t[f],a=t[l],d=e[f],p=e[l],c=d+p;return u!==r&&u!==i||a!==r&&a!==i||!(0>d||0>p)?(u===i||u===r)&&0>d?n-=d:(a===i||a===r)&&0>p&&(n+=p):(p>d&&(n-=0>c?d+z(c/2):d),d>p&&(n+=0>c?p+z(c/2):p),d+=n,p-=n,u===i&&a!=i&&0>d&&(n-=d),a===i&&u!=i&&0>p&&(n+=p)),n}var t=t||window,C=t.document,O=C.documentElement,X={}.toString,Y=Math,z=Y.abs,q=Y.max,A=Y.min,B={core:0,padding:1,scroll:2,border:3,margin:4},E={width:h,height:s,offsetParent:b,offset:g,distance:m,intersection:y,place:v};return v.defaults={my:"left top",at:"left top",of:t,within:null,offsetX:0,offsetY:0,collision:{left:"push",right:"push",top:"push",bottom:"push"}},E});